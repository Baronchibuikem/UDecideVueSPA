{"remainingRequest":"/home/baron/Documents/projects/Client/YOUDECIDE/youdecide_vue/node_modules/babel-loader/lib/index.js!/home/baron/Documents/projects/Client/YOUDECIDE/youdecide_vue/node_modules/eslint-loader/index.js??ref--13-0!/home/baron/Documents/projects/Client/YOUDECIDE/youdecide_vue/src/router.js","dependencies":[{"path":"/home/baron/Documents/projects/Client/YOUDECIDE/youdecide_vue/src/router.js","mtime":1588229124799},{"path":"/home/baron/Documents/projects/Client/YOUDECIDE/youdecide_vue/node_modules/cache-loader/dist/cjs.js","mtime":1586229982811},{"path":"/home/baron/Documents/projects/Client/YOUDECIDE/youdecide_vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/baron/Documents/projects/Client/YOUDECIDE/youdecide_vue/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import Vue from \"vue\";\nimport Router from \"vue-router\";\nimport SurveyLanding from \"./views/SurveyLanding.vue\";\nimport Dashboard from \"./views/Dashboard.vue\";\nimport LiveFeed from \"./views/LiveFeed.vue\";\nimport PollForm from \"./views/PollForming.vue\";\nimport Login from \"./views/Login.vue\";\nimport Signup from \"./views/Signup.vue\";\nimport SinglePollPage from \"./views/SinglePollPage.vue\";\nimport ViewProfilePage from \"./views/ViewProfilePage.vue\";\nimport store from \"./store\";\nVue.use(Router);\nvar router = new Router({\n  mode: \"history\",\n  // this.use(function(req, res, next){\n  //   res.header(\"Access-Control-Allow-Origin\", \"http://localhost:8080\");\n  //   res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\n  //   next();\n  // }),\n  routes: [{\n    path: \"/\",\n    name: \"livefeed\",\n    component: LiveFeed,\n    meta: {\n      requiresAuth: true\n    },\n    children: [{\n      path: \"poll/:poll_id\",\n      component: SinglePollPage,\n      meta: {\n        requiresAuth: true\n      }\n    }]\n  }, // {\n  // \tpath: \"/poll/:poll_id\",\n  // \tcomponent: SinglePollPage,\n  // \tmeta: {\n  // \t\trequiresAuth: true\n  // \t}\n  // },\n  {\n    path: \"/dashboard\",\n    name: \"dashboard\",\n    component: Dashboard,\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: \"/survey-landing\",\n    name: \"survey-landing\",\n    component: SurveyLanding,\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: \"/pollform\",\n    name: \"pollform\",\n    component: PollForm,\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: \"/login\",\n    name: \"login\",\n    component: Login\n  }, {\n    path: \"/signup\",\n    name: \"signup\",\n    component: Signup\n  }, {\n    path: \"/profile\",\n    name: \"profile\",\n    component: ViewProfilePage // // return 404 error page if the link entered doesn't exist\n    // {\n    // \tpath: \"*\",\n    // \tname: \"error-404\"\n    // \t// component: Error\n    // }\n\n  }]\n}); // Used to check if a route is projected, if it is then you are required to\n// be authenticated before you can access it\n\nrouter.beforeEach(function (to, from, next) {\n  if (to.matched.some(function (record) {\n    return record.meta.requiresAuth;\n  })) {\n    if (store.getters.isLoggedIn) {\n      next();\n      return;\n    }\n\n    next(\"/login\");\n  } else {\n    next();\n  }\n});\nexport default router;",{"version":3,"sources":["/home/baron/Documents/projects/Client/YOUDECIDE/youdecide_vue/src/router.js"],"names":["Vue","Router","SurveyLanding","Dashboard","LiveFeed","PollForm","Login","Signup","SinglePollPage","ViewProfilePage","store","use","router","mode","routes","path","name","component","meta","requiresAuth","children","beforeEach","to","from","next","matched","some","record","getters","isLoggedIn"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AACA,OAAOC,aAAP,MAA0B,2BAA1B;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,OAAOC,MAAP,MAAmB,oBAAnB;AACA,OAAOC,cAAP,MAA2B,4BAA3B;AACA,OAAOC,eAAP,MAA4B,6BAA5B;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAEAV,IAAIW,GAAJ,CAAQV,MAAR;AAEA,IAAIW,SAAS,IAAIX,MAAJ,CAAW;AACvBY,QAAM,SADiB;AAEvB;AACA;AACA;AACA;AACA;AAEAC,UAAQ,CACP;AACCC,UAAM,GADP;AAECC,UAAM,UAFP;AAGCC,eAAWb,QAHZ;AAICc,UAAM;AACLC,oBAAc;AADT,KAJP;AAOCC,cAAU,CACT;AACCL,YAAM,eADP;AAECE,iBAAWT,cAFZ;AAGCU,YAAM;AACLC,sBAAc;AADT;AAHP,KADS;AAPX,GADO,EAkBP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACCJ,UAAM,YADP;AAECC,UAAM,WAFP;AAGCC,eAAWd,SAHZ;AAICe,UAAM;AACLC,oBAAc;AADT;AAJP,GAzBO,EAiCP;AACCJ,UAAM,iBADP;AAECC,UAAM,gBAFP;AAGCC,eAAWf,aAHZ;AAICgB,UAAM;AACLC,oBAAc;AADT;AAJP,GAjCO,EAyCP;AACCJ,UAAM,WADP;AAECC,UAAM,UAFP;AAGCC,eAAWZ,QAHZ;AAICa,UAAM;AACLC,oBAAc;AADT;AAJP,GAzCO,EAkDP;AACCJ,UAAM,QADP;AAECC,UAAM,OAFP;AAGCC,eAAWX;AAHZ,GAlDO,EAuDP;AACCS,UAAM,SADP;AAECC,UAAM,QAFP;AAGCC,eAAWV;AAHZ,GAvDO,EA4DP;AACCQ,UAAM,UADP;AAECC,UAAM,SAFP;AAGCC,eAAWR,eAHZ,CAMA;AACA;AACA;AACA;AACA;AACA;;AAXA,GA5DO;AARe,CAAX,CAAb,C,CAmFA;AACA;;AACAG,OAAOS,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACrC,MAAIF,GAAGG,OAAH,CAAWC,IAAX,CAAgB;AAAA,WAAUC,OAAOT,IAAP,CAAYC,YAAtB;AAAA,GAAhB,CAAJ,EAAyD;AACxD,QAAIT,MAAMkB,OAAN,CAAcC,UAAlB,EAA8B;AAC7BL;AACA;AACA;;AACDA,SAAK,QAAL;AACA,GAND,MAMO;AACNA;AACA;AACD,CAVD;AAWA,eAAeZ,MAAf","sourcesContent":["import Vue from \"vue\";\nimport Router from \"vue-router\";\nimport SurveyLanding from \"./views/SurveyLanding.vue\";\nimport Dashboard from \"./views/Dashboard.vue\";\nimport LiveFeed from \"./views/LiveFeed.vue\";\nimport PollForm from \"./views/PollForming.vue\";\nimport Login from \"./views/Login.vue\";\nimport Signup from \"./views/Signup.vue\";\nimport SinglePollPage from \"./views/SinglePollPage.vue\";\nimport ViewProfilePage from \"./views/ViewProfilePage.vue\";\nimport store from \"./store\";\n\nVue.use(Router);\n\nlet router = new Router({\n\tmode: \"history\",\n\t// this.use(function(req, res, next){\n\t//   res.header(\"Access-Control-Allow-Origin\", \"http://localhost:8080\");\n\t//   res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\n\t//   next();\n\t// }),\n\n\troutes: [\n\t\t{\n\t\t\tpath: \"/\",\n\t\t\tname: \"livefeed\",\n\t\t\tcomponent: LiveFeed,\n\t\t\tmeta: {\n\t\t\t\trequiresAuth: true\n\t\t\t},\n\t\t\tchildren: [\n\t\t\t\t{\n\t\t\t\t\tpath: \"poll/:poll_id\",\n\t\t\t\t\tcomponent: SinglePollPage,\n\t\t\t\t\tmeta: {\n\t\t\t\t\t\trequiresAuth: true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t// {\n\t\t// \tpath: \"/poll/:poll_id\",\n\t\t// \tcomponent: SinglePollPage,\n\t\t// \tmeta: {\n\t\t// \t\trequiresAuth: true\n\t\t// \t}\n\t\t// },\n\t\t{\n\t\t\tpath: \"/dashboard\",\n\t\t\tname: \"dashboard\",\n\t\t\tcomponent: Dashboard,\n\t\t\tmeta: {\n\t\t\t\trequiresAuth: true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tpath: \"/survey-landing\",\n\t\t\tname: \"survey-landing\",\n\t\t\tcomponent: SurveyLanding,\n\t\t\tmeta: {\n\t\t\t\trequiresAuth: true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tpath: \"/pollform\",\n\t\t\tname: \"pollform\",\n\t\t\tcomponent: PollForm,\n\t\t\tmeta: {\n\t\t\t\trequiresAuth: true\n\t\t\t}\n\t\t},\n\n\t\t{\n\t\t\tpath: \"/login\",\n\t\t\tname: \"login\",\n\t\t\tcomponent: Login\n\t\t},\n\t\t{\n\t\t\tpath: \"/signup\",\n\t\t\tname: \"signup\",\n\t\t\tcomponent: Signup\n\t\t},\n\t\t{\n\t\t\tpath: \"/profile\",\n\t\t\tname: \"profile\",\n\t\t\tcomponent: ViewProfilePage\n\t\t}\n\n\t\t// // return 404 error page if the link entered doesn't exist\n\t\t// {\n\t\t// \tpath: \"*\",\n\t\t// \tname: \"error-404\"\n\t\t// \t// component: Error\n\t\t// }\n\t]\n});\n\n// Used to check if a route is projected, if it is then you are required to\n// be authenticated before you can access it\nrouter.beforeEach((to, from, next) => {\n\tif (to.matched.some(record => record.meta.requiresAuth)) {\n\t\tif (store.getters.isLoggedIn) {\n\t\t\tnext();\n\t\t\treturn;\n\t\t}\n\t\tnext(\"/login\");\n\t} else {\n\t\tnext();\n\t}\n});\nexport default router;\n"]}]}