{"remainingRequest":"/home/baron/Documents/projects/Client/YOUDECIDE/youdecide_vue/node_modules/babel-loader/lib/index.js!/home/baron/Documents/projects/Client/YOUDECIDE/youdecide_vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/baron/Documents/projects/Client/YOUDECIDE/youdecide_vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/baron/Documents/projects/Client/YOUDECIDE/youdecide_vue/src/views/PollForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/baron/Documents/projects/Client/YOUDECIDE/youdecide_vue/src/views/PollForm.vue","mtime":1588271594211},{"path":"/home/baron/Documents/projects/Client/YOUDECIDE/youdecide_vue/node_modules/cache-loader/dist/cjs.js","mtime":1586229982811},{"path":"/home/baron/Documents/projects/Client/YOUDECIDE/youdecide_vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/baron/Documents/projects/Client/YOUDECIDE/youdecide_vue/node_modules/cache-loader/dist/cjs.js","mtime":1586229982811},{"path":"/home/baron/Documents/projects/Client/YOUDECIDE/youdecide_vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"PollForm\",\n  data: function data() {\n    return {\n      question: \"\",\n      option: \"\",\n      options: [],\n      initialValue: {\n        choice_text: [{}]\n      },\n      choice_type: \"TEXT\",\n      showForm: false,\n      date: \"\"\n    };\n  },\n  methods: {\n    // var that = this;\n    addOption: function addOption() {\n      this.options.push(this.option);\n      this.initialValue.choice_text.push({\n        choice_text: this.option\n      });\n      this.option = \"\";\n    },\n    removeOption: function removeOption(opt) {\n      this.options.splice(opt, 1);\n    },\n    // This function is used to submit the data to the vuex newPoll action which makes a post request to the\n    // required endpoint. Here we ensure that the question input is not empty  and that the length of options\n    // is greater than 0, if all checks out, we pass in the question data and the initialValue which is our\n    // options list converted to an array of object and dispatch the newPoll action along with our data\n    submit: function submit() {\n      var _this = this;\n\n      if (this.question && this.options.length > 0) {\n        var data = {\n          question: this.question,\n          choices: this.initialValue.choice_text,\n          choice_type: this.choice_type,\n          expire_date: this.date\n        };\n        console.log(\"This is the data being sent to the as a post request in Poll\", data);\n        this.$store.dispatch(\"newPoll\", data).then(function () {\n          return _this.$router.push(\"/\");\n        });\n      }\n    }\n  },\n  computed: {\n    isQuestionAvailable: function isQuestionAvailable() {\n      return this.question.trim() != \"\";\n    },\n    isOptionAvaliable: function isOptionAvaliable() {\n      return this.option.trim() != \"\";\n    },\n    isOptionsAvailable: function isOptionsAvailable() {\n      return this.options.length > 0;\n    },\n    submitable: function submitable() {\n      return this.isQuestionAvailable && this.isOptionsAvailable;\n    }\n  }\n};",{"version":3,"sources":["PollForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuFA,eAAA;AACA,QAAA,UADA;AAEA,QAAA,gBAAA;AACA,WAAA;AACA,gBAAA,EADA;AAEA,cAAA,EAFA;AAGA,eAAA,EAHA;AAIA,oBAAA;AAAA,qBAAA,CAAA,EAAA;AAAA,OAJA;AAKA,mBAAA,MALA;AAMA,gBAAA,KANA;AAOA,YAAA;AAPA,KAAA;AASA,GAZA;AAaA,WAAA;AACA;AACA,aAFA,uBAEA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,KAAA,MAAA;AACA,WAAA,YAAA,CAAA,WAAA,CAAA,IAAA,CAAA;AAAA,qBAAA,KAAA;AAAA,OAAA;AACA,WAAA,MAAA,GAAA,EAAA;AACA,KANA;AAOA,gBAPA,wBAOA,GAPA,EAOA;AACA,WAAA,OAAA,CAAA,MAAA,CAAA,GAAA,EAAA,CAAA;AACA,KATA;AAUA;AACA;AACA;AACA;AACA,UAdA,oBAcA;AAAA;;AACA,UAAA,KAAA,QAAA,IAAA,KAAA,OAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,YAAA,OAAA;AACA,oBAAA,KAAA,QADA;AAEA,mBAAA,KAAA,YAAA,CAAA,WAFA;AAGA,uBAAA,KAAA,WAHA;AAIA,uBAAA,KAAA;AAJA,SAAA;AAMA,gBAAA,GAAA,CACA,8DADA,EAEA,IAFA;AAIA,aAAA,MAAA,CACA,QADA,CACA,SADA,EACA,IADA,EAEA,IAFA,CAEA;AAAA,iBAAA,MAAA,OAAA,CAAA,IAAA,CAAA,GAAA,CAAA;AAAA,SAFA;AAGA;AACA;AA9BA,GAbA;AA6CA,YAAA;AACA,uBADA,iCACA;AACA,aAAA,KAAA,QAAA,CAAA,IAAA,MAAA,EAAA;AACA,KAHA;AAIA,qBAJA,+BAIA;AACA,aAAA,KAAA,MAAA,CAAA,IAAA,MAAA,EAAA;AACA,KANA;AAOA,sBAPA,gCAOA;AACA,aAAA,KAAA,OAAA,CAAA,MAAA,GAAA,CAAA;AACA,KATA;AAUA,cAVA,wBAUA;AACA,aAAA,KAAA,mBAAA,IAAA,KAAA,kBAAA;AACA;AAZA;AA7CA,CAAA","sourcesContent":["<template>\n\t<div id=\"content_area\">\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col-md-12\">\n\t\t\t\t<div class=\"card\">\n\t\t\t\t\t<div class=\"card-body\">\n\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t\t\t<div class=\"controls\">\n\t\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\t\tstyle=\"border-radius: 10px;\"\n\t\t\t\t\t\t\t\t\t\t@focus=\"showForm = true\"\n\t\t\t\t\t\t\t\t\t\tv-model=\"question\"\n\t\t\t\t\t\t\t\t\t\tclass=\"form-control is-rounded\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"What is your question\"\n\t\t\t\t\t\t\t\t\t></textarea>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"mb-3\">\n\t\t\t\t\t\t\t\t<p v-for=\"(option, index) in options\" :key=\"index\">\n\t\t\t\t\t\t\t\t\t<span class=\"fa fa-check\"></span>\n\t\t\t\t\t\t\t\t\t{{ option }}\n\t\t\t\t\t\t\t\t\t<span @click=\"removeOption(index)\" style=\"cursor: pointer;\"\n\t\t\t\t\t\t\t\t\t\t>Remove</span\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div v-if=\"showForm\">\n\t\t\t\t\t\t\t\t<div class=\"input-group\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tv-model=\"option\"\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tclass=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Add Option\"\n\t\t\t\t\t\t\t\t\t\t:readonly=\"!isQuestionAvailable\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div class=\"input-group-append\">\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t@click=\"addOption\"\n\t\t\t\t\t\t\t\t\t\t\t:disabled=\"!isOptionAvaliable\"\n\t\t\t\t\t\t\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t\t\t\t\t\t\tdisabledButton: !isOptionAvaliable,\n\t\t\t\t\t\t\t\t\t\t\t\tenableButton: isOptionAvaliable\n\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"btn waves-effect waves-light\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tAdd\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<br />\n\n\t\t\t\t\t\t\t\t<p><small>Expiration Date:</small></p>\n\t\t\t\t\t\t\t\t<input type=\"date\" class=\"form-control\" v-model=\"date\" />\n\t\t\t\t\t\t\t\t<div class=\"form-group mt-2\">\n\t\t\t\t\t\t\t\t\t<div class=\"text-xs-right\">\n\t\t\t\t\t\t\t\t\t\t<!-- here we call the submit function to submit our data's -->\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"btn px-6 mr-3 ml-1\"\n\t\t\t\t\t\t\t\t\t\t\t@click.prevent=\"submit\"\n\t\t\t\t\t\t\t\t\t\t\t:disabled=\"!submitable\"\n\t\t\t\t\t\t\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t\t\t\t\t\t\tdisabledButton: !submitable,\n\t\t\t\t\t\t\t\t\t\t\t\tenableButton: submitable\n\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tSave\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t<button type=\"reset\" class=\"btn btn-inverse\">\n\t\t\t\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: \"PollForm\",\n\tdata: function() {\n\t\treturn {\n\t\t\tquestion: \"\",\n\t\t\toption: \"\",\n\t\t\toptions: [],\n\t\t\tinitialValue: { choice_text: [{}] },\n\t\t\tchoice_type: \"TEXT\",\n\t\t\tshowForm: false,\n\t\t\tdate: \"\"\n\t\t};\n\t},\n\tmethods: {\n\t\t// var that = this;\n\t\taddOption() {\n\t\t\tthis.options.push(this.option);\n\t\t\tthis.initialValue.choice_text.push({ choice_text: this.option });\n\t\t\tthis.option = \"\";\n\t\t},\n\t\tremoveOption(opt) {\n\t\t\tthis.options.splice(opt, 1);\n\t\t},\n\t\t// This function is used to submit the data to the vuex newPoll action which makes a post request to the\n\t\t// required endpoint. Here we ensure that the question input is not empty  and that the length of options\n\t\t// is greater than 0, if all checks out, we pass in the question data and the initialValue which is our\n\t\t// options list converted to an array of object and dispatch the newPoll action along with our data\n\t\tsubmit() {\n\t\t\tif (this.question && this.options.length > 0) {\n\t\t\t\tlet data = {\n\t\t\t\t\tquestion: this.question,\n\t\t\t\t\tchoices: this.initialValue.choice_text,\n\t\t\t\t\tchoice_type: this.choice_type,\n\t\t\t\t\texpire_date: this.date\n\t\t\t\t};\n\t\t\t\tconsole.log(\n\t\t\t\t\t\"This is the data being sent to the as a post request in Poll\",\n\t\t\t\t\tdata\n\t\t\t\t);\n\t\t\t\tthis.$store\n\t\t\t\t\t.dispatch(\"newPoll\", data)\n\t\t\t\t\t.then(() => this.$router.push(\"/\"));\n\t\t\t}\n\t\t}\n\t},\n\tcomputed: {\n\t\tisQuestionAvailable() {\n\t\t\treturn this.question.trim() != \"\";\n\t\t},\n\t\tisOptionAvaliable() {\n\t\t\treturn this.option.trim() != \"\";\n\t\t},\n\t\tisOptionsAvailable() {\n\t\t\treturn this.options.length > 0;\n\t\t},\n\t\tsubmitable() {\n\t\t\treturn this.isQuestionAvailable && this.isOptionsAvailable;\n\t\t}\n\t}\n};\n</script>\n<style scoped>\n.disabledButton {\n\tbackground-color: #d8d8d8;\n\t/* padding: 8px 8px;\n\tmargin-right: 5px; */\n}\n.enableButton {\n\tbackground-color: #20aee3;\n\t/* padding: 8px 8px;\n\tmargin-right: 5px; */\n}\n</style>\n"],"sourceRoot":"src/views"}]}