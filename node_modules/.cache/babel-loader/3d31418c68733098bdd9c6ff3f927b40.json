{"remainingRequest":"/home/baron/Documents/projects/Client/YOUDECIDE/youdecide_vue/node_modules/thread-loader/dist/cjs.js!/home/baron/Documents/projects/Client/YOUDECIDE/youdecide_vue/node_modules/babel-loader/lib/index.js!/home/baron/Documents/projects/Client/YOUDECIDE/youdecide_vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/baron/Documents/projects/Client/YOUDECIDE/youdecide_vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/baron/Documents/projects/Client/YOUDECIDE/youdecide_vue/src/views/LiveFeed.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/baron/Documents/projects/Client/YOUDECIDE/youdecide_vue/src/views/LiveFeed.vue","mtime":1587329650735},{"path":"/home/baron/Documents/projects/Client/YOUDECIDE/youdecide_vue/node_modules/cache-loader/dist/cjs.js","mtime":1586229982811},{"path":"/home/baron/Documents/projects/Client/YOUDECIDE/youdecide_vue/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/baron/Documents/projects/Client/YOUDECIDE/youdecide_vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/baron/Documents/projects/Client/YOUDECIDE/youdecide_vue/node_modules/cache-loader/dist/cjs.js","mtime":1586229982811},{"path":"/home/baron/Documents/projects/Client/YOUDECIDE/youdecide_vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"/home/baron/Documents/projects/Client/YOUDECIDE/youdecide_vue/node_modules/@babel/runtime/helpers/builtin/es6/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport InfiniteLoading from \"vue-infinite-loading\";\nimport axios from \"axios\";\nimport PollMenu from \"./../components/PollMenu.vue\";\nimport LoginForm from \"./../components/LoginForm.vue\";\nimport Login from \"./Login\";\nimport PollForm from \"@/views/PollForm.vue\";\nimport TrendingPolls from \"./TrendingPolls.vue\";\nimport { mapGetters, mapActions } from \"vuex\";\nvar api = \"http://hn.algolia.com/api/v1/search_by_date?tags=story\";\nexport default {\n  name: \"feed\",\n  components: {\n    TrendingPolls: TrendingPolls,\n    PollForm: PollForm,\n    LoginForm: LoginForm,\n    Login: Login,\n    PollMenu: PollMenu,\n    InfiniteLoading: InfiniteLoading\n  },\n  data: function data() {\n    return {\n      list: [],\n      selected_poll: null,\n      poll_creator: null,\n      selected_choice: null,\n      current_date: \"\",\n      polllist: true\n    };\n  },\n  methods: _objectSpread({\n    infiniteHandler: function infiniteHandler($state) {\n      var _this = this;\n\n      axios.get(api, {\n        params: {\n          page: this.list.length / 20 + 1\n        }\n      }).then(function (_ref) {\n        var data = _ref.data;\n\n        if (data.hits.length) {\n          _this.list = _this.list.concat(data.hits);\n          $state.loaded();\n\n          if (_this.list.length / 20 === 10) {\n            $state.complete();\n          }\n        } else {\n          $state.complete();\n        }\n      });\n    },\n\n    /* \tThis function is used to bookmark a poll,\n    \tvalue is an object data from the poll where we destructure and get the id of that particular poll\n    \tUserID is the id of the particular loggedIn user which we received from our getters\n    \twe use these values to update the selected_poll and poll_creator which are keys in our data\n    \tAfter the update we dispatch the likePoll action passing in the data as parameter\n    */\n    likePoll: function likePoll(value, userID) {\n      var _this2 = this;\n\n      var _value = _objectSpread({}, value),\n          id = _value.id;\n\n      this.selected_poll = id;\n      this.poll_creator = userID;\n      var data = {\n        poll: this.selected_poll,\n        user: this.poll_creator\n      };\n      this.$store.dispatch(\"likePoll\", data).then(function () {\n        return _this2.$router.push(\"/feeds\");\n      });\n    },\n\n    /* \tThis function is used to bookmark a poll,\n    \tvalue is an object data from the poll where we destructure and get the id of that particular poll\n    \tUserID is the id of the particular loggedIn user which we received from our getters\n    \twe use these values to update the selected_poll and poll_creator which are keys in our data\n    \tAfter the update we dispatch the bookmarkPoll action passing in the data as parameter\n    */\n    bookmarkPoll: function bookmarkPoll(value, userID) {\n      var _this3 = this;\n\n      var _value2 = _objectSpread({}, value),\n          id = _value2.id;\n\n      this.selected_poll = id;\n      this.poll_creator = userID;\n      var data = {\n        poll: this.selected_poll,\n        user: this.poll_creator\n      };\n      this.$store.dispatch(\"bookmarkPoll\", data).then(function () {\n        return _this3.$router.push(\"/\");\n      });\n    },\n\n    /* \tThis function is used to vote on a choice attached to a poll,\n    \tvalue is an object data from the poll where we destructure and get the id of that particular poll\n    \tUserID is the id of the particular choice which we received when we looped over the choices\n    \twe use these values to update the selected_poll and selected_choice which are keys in our data\n    \tAfter the update we dispatch the voteChoice action passing in the data as parameter\n    */\n    voteChoice: function voteChoice(value, userID) {\n      var _this4 = this;\n\n      var _value3 = _objectSpread({}, value),\n          id = _value3.id;\n\n      this.selected_poll = id;\n      this.selected_choice = userID;\n      var data = {\n        poll: this.selected_poll,\n        choice: this.selected_choice\n      };\n      this.$store.dispatch(\"voteChoice\", data).then(function () {\n        return _this4.$router.push(\"/\");\n      });\n    },\n    singlePoll: function singlePoll(param) {\n      var _this5 = this;\n\n      this.$store.dispatch(\"getSinglePoll\", param).then(function () {\n        _this5.polllist = false;\n\n        _this5.$router.push(\"poll/\".concat(param));\n      });\n    }\n  }, mapActions([\"getPolls\", \"getTrendingPolls\"])),\n  computed: _objectSpread({}, mapGetters([\"allPolls\", \"getUser\", \"numberOfFollowers\", \"numberOfFollowed\", \"numberOfPolls\", \"isLoggedIn\", \"isAuthenticated\", \"getuserID\"])),\n  mounted: function mounted() {\n    var _this6 = this;\n\n    // Added the called to ensure the element is mounted once it is called.\n    this.$nextTick(function () {\n      _this6.getPolls();\n\n      _this6.getTrendingPolls(); // this.getTrendingFeeds();\n\n    });\n  }\n};",{"version":3,"sources":["LiveFeed.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\t<div>\n\t\t<div v-if=\"!isAuthenticated\">\n\t\t\t<Login />\n\t\t</div>\n\t\t<my-header />\n\t\t<div v-if=\"isAuthenticated\">\n\t\t\t<div class=\"page-container container\">\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<div class=\"col-sm-3 mt-3 d-none d-sm-block\">\n\t\t\t\t\t\t<div class=\"card rounded\">\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tclass=\"card-img img-responsive\"\n\t\t\t\t\t\t\t\tsrc=\"../assets/img/01_UD.png\"\n\t\t\t\t\t\t\t\talt=\"Card image\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"card-img-overlay card-inverse social-profile-first bg-info\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<img src=\"../assets/img/profileimage.png\" class=\"img-circle\" />\n\n\t\t\t\t\t\t\t\t<h4 class=\"card-title text-capitalize\">\n\t\t\t\t\t\t\t\t\t<!-- This return the login in users username. It's coming from getters defined\n\t\t\t\t\t\t\t\tin the userAuthentication store -->\n\t\t\t\t\t\t\t\t\t{{ getUser.userObj.user.username }}\n\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"card-body text-center\">\n\t\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t\t\t\t\t<h3 class=\"m-b-0 font-12\">\n\t\t\t\t\t\t\t\t\t\t\t<!-- This returns the number of followers. It's being recieved\n\t\t\t\t\t\t\t\t\t\tfrom the getters in userAuthentication store -->\n\t\t\t\t\t\t\t\t\t\t\t<span v-if=\"!numberOfFollowers\">O</span>\n\t\t\t\t\t\t\t\t\t\t\t<span v-else>{{ numberOfFollowers }}</span>\n\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t\t<h4 class=\"font-11\">Followers</h4>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t\t\t\t\t<h3 class=\"m-b-0 font-12\">\n\t\t\t\t\t\t\t\t\t\t\t<!-- This returns the number of followers. It's being recieved\n\t\t\t\t\t\t\t\t\t\tfrom the getters in userAuthentication store -->\n\t\t\t\t\t\t\t\t\t\t\t<span v-if=\"!numberOfFollowed\">O</span>\n\t\t\t\t\t\t\t\t\t\t\t<span v-else>{{ numberOfFollowed }}</span>\n\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t\t<h4 class=\"font-11\">Following</h4>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t\t\t\t\t<h3 class=\"m-b-0 font-12\">\n\t\t\t\t\t\t\t\t\t\t\t<!-- This returns the number of followers. It's being recieved\n\t\t\t\t\t\t\t\t\t\tfrom the getters in userAuthentication store -->\n\t\t\t\t\t\t\t\t\t\t\t<span v-if=\"!numberOfPolls\">O</span>\n\t\t\t\t\t\t\t\t\t\t\t<span v-else>{{ numberOfPolls }}</span>\n\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t\t<h4 class=\"font-11\">Polls</h4>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"card rounded\">\n\t\t\t\t\t\t\t<div class=\"card-body\">\n\t\t\t\t\t\t\t\t<h4 class=\"card-title\">Who to follow</h4>\n\t\t\t\t\t\t\t\t<ul class=\"feeds\">\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<div class=\"bg-light-info\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"fa fa-bell-o\"></i>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\tYou have 4 pending tasks.\n\t\t\t\t\t\t\t\t\t\t<span class=\"text-muted\">Just Now</span>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<div class=\"bg-light-success\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"ti-server\"></i>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\tServer #1 overloaded.<span class=\"text-muted\"\n\t\t\t\t\t\t\t\t\t\t\t>2 Hours ago</span\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<div class=\"bg-light-warning\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"ti-shopping-cart\"></i>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\tNew order received.<span class=\"text-muted\">31 May</span>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<div class=\"bg-light-danger\"><i class=\"ti-user\"></i></div>\n\t\t\t\t\t\t\t\t\t\tNew user registered.<span class=\"text-muted\">30 May</span>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"col-md-6\">\n\t\t\t\t\t\t<div id=\"content_area\" class=\"container mt-3\">\n\t\t\t\t\t\t\t<PollForm />\n\t\t\t\t\t\t\t<div class=\"card rounded\">\n\t\t\t\t\t\t\t\t<!-- Nav tabs -->\n\t\t\t\t\t\t\t\t<ul class=\"nav nav-tabs profile-tab\" role=\"tablist\">\n\t\t\t\t\t\t\t\t\t<li class=\"nav-item\">\n\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\tclass=\"nav-link active\"\n\t\t\t\t\t\t\t\t\t\t\tdata-toggle=\"tab\"\n\t\t\t\t\t\t\t\t\t\t\thref=\"#home\"\n\t\t\t\t\t\t\t\t\t\t\trole=\"tab\"\n\t\t\t\t\t\t\t\t\t\t\t>Timeline</a\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li class=\"nav-item\">\n\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\tclass=\"nav-link\"\n\t\t\t\t\t\t\t\t\t\t\tdata-toggle=\"tab\"\n\t\t\t\t\t\t\t\t\t\t\thref=\"#profile\"\n\t\t\t\t\t\t\t\t\t\t\trole=\"tab\"\n\t\t\t\t\t\t\t\t\t\t\t>Trending</a\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t<!-- Tab panes -->\n\t\t\t\t\t\t\t\t<div class=\"tab-content\">\n\t\t\t\t\t\t\t\t\t<div class=\"tab-pane active\" id=\"home\" role=\"tabpanel\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"card-body\" v-if=\"polllist\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"profiletimeline\">\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- Here we are looping through the allPolls which we received from our getters -->\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"todo-item sl-right\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"poll in allPolls\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-bind:key=\"poll.id\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"sl-item\" @click=\"singlePoll(poll.id)\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PollMenu></PollMenu>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"sl-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"../assets/img/profileimage.png\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"user\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"img-circle\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"d-flex justify-content-between\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"#\" class=\"link\">{{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpoll.poller_username\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"sl-date\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>{{ poll.pub_date }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"m-t-20\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-12 col-xs-12\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{{ poll.question }}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"m-t-20\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- Here we are looping through the choice array in our poll -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"choice in poll.choices\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-bind:key=\"choice.id\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"col-md-12 linkHover\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-toggle=\"tooltip\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle=\"vote\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"choice.choice_text !== null\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- Here we call the voteChoice method and pass in the poll object and the selected choice id -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p @click=\"voteChoice(poll, choice.id)\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ choice.choice_vote_count }}-{{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchoice.choice_text\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"like-comm m-t-20\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- Here we call the bookmarkPoll method and pass in the poll object and current user id which we get from our getUser from getters -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"linkHover m-r-10\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbookmarkPoll(poll, getUser.userObj.user.id)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"fa fa-thumb text-danger\"></i\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>{{ poll.vote_count }} bookmark</span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!--  Here we call the likePoll method and pass in the poll object and current user id which we get from our getUser from getters -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"linkHover m-r-10\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlikePoll(poll, getUser.userObj.user.id)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"fa fa-heart text-danger\"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ poll.total_likes }} Love\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<!-- <router-link to=\"/poll/:poll_id\" append> </router-link> -->\n\t\t\t\t\t\t\t\t\t\t<div v-if=\"!polllist\">\n\t\t\t\t\t\t\t\t\t\t\t<router-view></router-view>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<!--second tab-->\n\t\t\t\t\t\t\t\t\t<div class=\"tab-pane\" id=\"profile\" role=\"tabpanel\">\n\t\t\t\t\t\t\t\t\t\t<TrendingPolls />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"col-md-3 mt-3 d-none d-md-block\">\n\t\t\t\t\t\t<div class=\"card rounded\">\n\t\t\t\t\t\t\t<div class=\"card-body\">\n\t\t\t\t\t\t\t\t<h4 class=\"card-title\">Top Trending Polls</h4>\n\t\t\t\t\t\t\t\t<TrendingPolls />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"card rounded\">\n\t\t\t\t\t\t\t<div class=\"card-body\">\n\t\t\t\t\t\t\t\t<p class=\"text-center aboutscroll primary\">\n\t\t\t\t\t\t\t\t\t&copy; 2018 youdecide.com\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<ul\n\t\t\t\t\t\t\t\t\tclass=\"list-icons d-flex flpolltext-center\"\n\t\t\t\t\t\t\t\t\tstyle=\"list-style: none; padding: 0;\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<li class=\"col\">\n\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\thref=\"javascript:void(0)\"\n\t\t\t\t\t\t\t\t\t\t\tdata-toggle=\"tooltip\"\n\t\t\t\t\t\t\t\t\t\t\ttitle=\"\"\n\t\t\t\t\t\t\t\t\t\t\tdata-original-title=\"twitter\"\n\t\t\t\t\t\t\t\t\t\t\t><i class=\"fa fa-twitter font-15\"></i\n\t\t\t\t\t\t\t\t\t\t></a>\n\t\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\t\t\t\t\t\t<li class=\"col\">\n\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\thref=\"javascript:void(0)\"\n\t\t\t\t\t\t\t\t\t\t\tdata-toggle=\"tooltip\"\n\t\t\t\t\t\t\t\t\t\t\ttitle=\"\"\n\t\t\t\t\t\t\t\t\t\t\tdata-original-title=\"Facebook\"\n\t\t\t\t\t\t\t\t\t\t\t><i class=\"fa fa-facebook-square font-15\"></i\n\t\t\t\t\t\t\t\t\t\t></a>\n\t\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\t\t\t\t\t\t<li class=\"col\">\n\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\thref=\"javascript:void(0)\"\n\t\t\t\t\t\t\t\t\t\t\tdata-toggle=\"tooltip\"\n\t\t\t\t\t\t\t\t\t\t\ttitle=\"\"\n\t\t\t\t\t\t\t\t\t\t\tdata-original-title=\"Linkd-in\"\n\t\t\t\t\t\t\t\t\t\t\t><i class=\"fa fa-instagram font-15\"></i\n\t\t\t\t\t\t\t\t\t\t></a>\n\t\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\t\t\t\t\t\t<li class=\"col\">\n\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\thref=\"javascript:void(0)\"\n\t\t\t\t\t\t\t\t\t\t\tdata-toggle=\"tooltip\"\n\t\t\t\t\t\t\t\t\t\t\ttitle=\"\"\n\t\t\t\t\t\t\t\t\t\t\tdata-original-title=\"Linkd-in\"\n\t\t\t\t\t\t\t\t\t\t\t><i class=\"fa fa-instagram font-15\"></i\n\t\t\t\t\t\t\t\t\t\t></a>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<!-- sample modal content -->\n\t\t\t<div\n\t\t\t\tclass=\"modal fade bs-example-modal-lg\"\n\t\t\t\tid=\"modal01\"\n\t\t\t\ttabindex=\"-1\"\n\t\t\t\trole=\"dialog\"\n\t\t\t\taria-labelledby=\"myLargeModalLabel\"\n\t\t\t\taria-hidden=\"true\"\n\t\t\t\tstyle=\"display: none;\"\n\t\t\t>\n\t\t\t\t<div class=\"modal-dialog modal-md\">\n\t\t\t\t\t<div class=\"modal-content\">\n\t\t\t\t\t\t<div class=\"modal-header\">\n\t\t\t\t\t\t\t<h4 class=\"modal-title\" id=\"myLargeModalLabel\">Login Form</h4>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tclass=\"close\"\n\t\t\t\t\t\t\t\tdata-dismiss=\"modal\"\n\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t×\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"modal-body\">\n\t\t\t\t\t\t\t<LoginForm></LoginForm>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"modal-footer\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tclass=\"btn btn-danger waves-effect text-left\"\n\t\t\t\t\t\t\t\tdata-dismiss=\"modal\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<back-to-top bottom=\"50px\" right=\"50px\">\n\t\t\t\t<button type=\"button\" class=\"btn btn-info btn-to-top\">\n\t\t\t\t\t<i class=\"fa fa-chevron-up\"></i>\n\t\t\t\t</button>\n\t\t\t</back-to-top>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport InfiniteLoading from \"vue-infinite-loading\";\nimport axios from \"axios\";\nimport PollMenu from \"./../components/PollMenu.vue\";\nimport LoginForm from \"./../components/LoginForm.vue\";\nimport Login from \"./Login\";\nimport PollForm from \"@/views/PollForm.vue\";\nimport TrendingPolls from \"./TrendingPolls.vue\";\nimport { mapGetters, mapActions } from \"vuex\";\n\nconst api = \"http://hn.algolia.com/api/v1/search_by_date?tags=story\";\n\nexport default {\n\tname: \"feed\",\n\tcomponents: {\n\t\tTrendingPolls,\n\t\tPollForm,\n\t\tLoginForm,\n\t\tLogin,\n\t\tPollMenu,\n\t\tInfiniteLoading\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tlist: [],\n\t\t\tselected_poll: null,\n\t\t\tpoll_creator: null,\n\t\t\tselected_choice: null,\n\t\t\tcurrent_date: \"\",\n\t\t\tpolllist: true\n\t\t};\n\t},\n\tmethods: {\n\t\tinfiniteHandler($state) {\n\t\t\taxios\n\t\t\t\t.get(api, {\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tpage: this.list.length / 20 + 1\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then(({ data }) => {\n\t\t\t\t\tif (data.hits.length) {\n\t\t\t\t\t\tthis.list = this.list.concat(data.hits);\n\t\t\t\t\t\t$state.loaded();\n\t\t\t\t\t\tif (this.list.length / 20 === 10) {\n\t\t\t\t\t\t\t$state.complete();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$state.complete();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t},\n\n\t\t/* \tThis function is used to bookmark a poll,\n\t\t\tvalue is an object data from the poll where we destructure and get the id of that particular poll\n\t\t\tUserID is the id of the particular loggedIn user which we received from our getters\n\t\t\twe use these values to update the selected_poll and poll_creator which are keys in our data\n\t\t\tAfter the update we dispatch the likePoll action passing in the data as parameter\n\t\t*/\n\t\tlikePoll(value, userID) {\n\t\t\tconst { id } = { ...value };\n\t\t\tthis.selected_poll = id;\n\t\t\tthis.poll_creator = userID;\n\t\t\tlet data = {\n\t\t\t\tpoll: this.selected_poll,\n\t\t\t\tuser: this.poll_creator\n\t\t\t};\n\t\t\tthis.$store\n\t\t\t\t.dispatch(\"likePoll\", data)\n\t\t\t\t.then(() => this.$router.push(\"/feeds\"));\n\t\t},\n\n\t\t/* \tThis function is used to bookmark a poll,\n\t\t\tvalue is an object data from the poll where we destructure and get the id of that particular poll\n\t\t\tUserID is the id of the particular loggedIn user which we received from our getters\n\t\t\twe use these values to update the selected_poll and poll_creator which are keys in our data\n\t\t\tAfter the update we dispatch the bookmarkPoll action passing in the data as parameter\n\t\t*/\n\t\tbookmarkPoll(value, userID) {\n\t\t\tconst { id } = { ...value };\n\n\t\t\tthis.selected_poll = id;\n\t\t\tthis.poll_creator = userID;\n\t\t\tlet data = {\n\t\t\t\tpoll: this.selected_poll,\n\t\t\t\tuser: this.poll_creator\n\t\t\t};\n\t\t\tthis.$store\n\t\t\t\t.dispatch(\"bookmarkPoll\", data)\n\t\t\t\t.then(() => this.$router.push(\"/\"));\n\t\t},\n\n\t\t/* \tThis function is used to vote on a choice attached to a poll,\n\t\t\tvalue is an object data from the poll where we destructure and get the id of that particular poll\n\t\t\tUserID is the id of the particular choice which we received when we looped over the choices\n\t\t\twe use these values to update the selected_poll and selected_choice which are keys in our data\n\t\t\tAfter the update we dispatch the voteChoice action passing in the data as parameter\n\t\t*/\n\t\tvoteChoice(value, userID) {\n\t\t\tconst { id } = { ...value };\n\t\t\tthis.selected_poll = id;\n\t\t\tthis.selected_choice = userID;\n\t\t\tlet data = {\n\t\t\t\tpoll: this.selected_poll,\n\t\t\t\tchoice: this.selected_choice\n\t\t\t};\n\t\t\tthis.$store\n\t\t\t\t.dispatch(\"voteChoice\", data)\n\t\t\t\t.then(() => this.$router.push(\"/\"));\n\t\t},\n\t\tsinglePoll(param) {\n\t\t\tthis.$store.dispatch(\"getSinglePoll\", param).then(() => {\n\t\t\t\tthis.polllist = false;\n\t\t\t\tthis.$router.push(`poll/${param}`);\n\t\t\t});\n\t\t},\n\t\t// Here we call our getPolls action\n\t\t...mapActions([\"getPolls\", \"getTrendingPolls\"])\n\t},\n\tcomputed: {\n\t\t// This returns all our updated state\n\t\t...mapGetters([\n\t\t\t\"allPolls\",\n\t\t\t\"getUser\",\n\t\t\t\"numberOfFollowers\",\n\t\t\t\"numberOfFollowed\",\n\t\t\t\"numberOfPolls\",\n\t\t\t\"isLoggedIn\",\n\t\t\t\"isAuthenticated\",\n\t\t\t\"getuserID\"\n\t\t])\n\t},\n\tmounted() {\n\t\t// Added the called to ensure the element is mounted once it is called.\n\t\tthis.$nextTick(() => {\n\t\t\tthis.getPolls();\n\t\t\tthis.getTrendingPolls();\n\t\t\t// this.getTrendingFeeds();\n\t\t});\n\t}\n};\n</script>\n\n<style>\n.btn-to-top {\n\twidth: 60px;\n\theight: 60px;\n\tpadding: 10px 16px;\n\tborder-radius: 50%;\n\tfont-size: 22px;\n\tline-height: 22px;\n}\n.linkHover:hover {\n\tcursor: pointer !important;\n\tcolor: #20aee3;\n}\n</style>\n"],"sourceRoot":"src/views"}]}